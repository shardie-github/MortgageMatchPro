{
  "name": "MortgageMatch Pro",
  "version": "1.0.0",
  "description": "Smarter Mortgages Start Here â€“ Your AI Loan Advisor Built on ChatGPT. Real-time rate data, predictive refinance alerts, and instant broker handoffs with compliance-verified advice.",
  "icon": "https://mortgagematch-pro.vercel.app/icon-1024.png",
  "author": {
    "name": "MortgageMatch Pro Team",
    "email": "support@mortgagematch-pro.com"
  },
  "homepage": "https://mortgagematch-pro.vercel.app",
  "repository": {
    "type": "git",
    "url": "https://github.com/mortgagematch-pro/app"
  },
  "license": "MIT",
  "keywords": [
    "mortgage",
    "real estate",
    "fintech",
    "ai",
    "affordability",
    "rates",
    "refinance",
    "broker",
    "compliance"
  ],
  "categories": ["Finance", "Personal Advisors"],
  "scopes": {
    "read": ["user:profile", "user:financial_data"],
    "write": ["user:calculations", "user:scenarios"],
    "admin": []
  },
  "privacy_policy": "https://mortgagematch-pro.vercel.app/privacy",
  "support_contact": "support@mortgagematch-pro.com",
  "openai_apps_sdk": {
    "version": "1.0.0",
    "compatibility": ">=1.0.0"
  },
  "agents": [
    {
      "name": "mortgage_advisor",
      "instructions": "You are MortgageMatch Pro's primary AI advisor. Help users calculate affordability, compare rates, analyze scenarios, and connect with qualified brokers. Always provide compliance-verified advice and clear explanations.",
      "model": "gpt-4o-mini",
      "tools": [
        "calculate_affordability",
        "fetch_mortgage_rates", 
        "compare_scenarios",
        "analyze_refinance_opportunity",
        "connect_with_broker",
        "generate_amortization_schedule"
      ],
      "guardrails": [
        "financial_advice_disclaimer",
        "compliance_verification",
        "data_privacy_protection",
        "rate_accuracy_validation"
      ],
      "handoffs": [
        "broker_connection",
        "rate_verification",
        "compliance_review"
      ]
    },
    {
      "name": "affordability_calculator",
      "instructions": "Calculate mortgage affordability using OSFI (Canada) and CFPB (US) compliance rules. Provide accurate GDS/TDS/DTI ratios and qualification results.",
      "model": "gpt-4o-mini", 
      "tools": [
        "calculate_gds_ratio",
        "calculate_tds_ratio",
        "calculate_dti_ratio",
        "stress_test_qualification",
        "generate_recommendations"
      ],
      "guardrails": [
        "compliance_validation",
        "stress_test_application",
        "ratio_accuracy_check"
      ]
    },
    {
      "name": "rate_intelligence",
      "instructions": "Fetch and analyze real-time mortgage rates from verified lenders. Provide accurate rate comparisons and market insights.",
      "model": "gpt-4o-mini",
      "tools": [
        "fetch_live_rates",
        "compare_lender_offers",
        "analyze_rate_trends",
        "validate_rate_accuracy"
      ],
      "guardrails": [
        "rate_verification",
        "lender_credibility_check",
        "data_freshness_validation"
      ]
    },
    {
      "name": "scenario_analyzer", 
      "instructions": "Compare mortgage scenarios and provide detailed analysis including amortization schedules, total costs, and personalized recommendations.",
      "model": "gpt-4o-mini",
      "tools": [
        "compare_scenarios",
        "generate_amortization",
        "calculate_total_costs",
        "analyze_break_even",
        "recommend_optimal_choice"
      ],
      "guardrails": [
        "calculation_accuracy",
        "scenario_validity_check",
        "recommendation_justification"
      ]
    },
    {
      "name": "broker_connector",
      "instructions": "Match users with qualified mortgage brokers based on location, loan requirements, and broker expertise. Facilitate secure lead routing.",
      "model": "gpt-4o-mini",
      "tools": [
        "find_qualified_brokers",
        "calculate_lead_score",
        "route_lead_securely",
        "schedule_broker_contact"
      ],
      "guardrails": [
        "broker_verification",
        "lead_privacy_protection",
        "consent_management"
      ]
    }
  ],
  "tools": [
    {
      "name": "calculate_affordability",
      "description": "Calculate how much a user can afford to borrow based on income, debts, and down payment",
      "parameters": {
        "type": "object",
        "properties": {
          "country": {
            "type": "string",
            "enum": ["CA", "US"],
            "description": "Country for compliance rules"
          },
          "income": {
            "type": "number",
            "description": "Annual income"
          },
          "debts": {
            "type": "number", 
            "description": "Monthly debt payments"
          },
          "down_payment": {
            "type": "number",
            "description": "Available down payment"
          },
          "property_price": {
            "type": "number",
            "description": "Target property price"
          },
          "interest_rate": {
            "type": "number",
            "description": "Expected interest rate"
          },
          "term_years": {
            "type": "number",
            "description": "Amortization period in years"
          },
          "location": {
            "type": "string",
            "description": "Property location (province/state)"
          }
        },
        "required": ["country", "income", "debts", "down_payment", "property_price", "interest_rate", "term_years", "location"]
      }
    },
    {
      "name": "fetch_mortgage_rates",
      "description": "Get current mortgage rates from verified lenders",
      "parameters": {
        "type": "object",
        "properties": {
          "country": {
            "type": "string",
            "enum": ["CA", "US"],
            "description": "Country for rate data"
          },
          "term_years": {
            "type": "number",
            "description": "Loan term in years"
          },
          "rate_type": {
            "type": "string",
            "enum": ["fixed", "variable"],
            "description": "Fixed or variable rate"
          },
          "property_price": {
            "type": "number",
            "description": "Property value"
          },
          "down_payment": {
            "type": "number",
            "description": "Down payment amount"
          }
        },
        "required": ["country", "term_years", "rate_type", "property_price", "down_payment"]
      }
    },
    {
      "name": "compare_scenarios",
      "description": "Compare different mortgage scenarios and provide analysis",
      "parameters": {
        "type": "object",
        "properties": {
          "scenarios": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {"type": "string"},
                "rate": {"type": "number"},
                "term": {"type": "number"},
                "type": {"type": "string", "enum": ["fixed", "variable"]},
                "property_price": {"type": "number"},
                "down_payment": {"type": "number"}
              },
              "required": ["name", "rate", "term", "type", "property_price", "down_payment"]
            }
          }
        },
        "required": ["scenarios"]
      }
    },
    {
      "name": "analyze_refinance_opportunity",
      "description": "Analyze if refinancing makes sense for a user's current mortgage",
      "parameters": {
        "type": "object",
        "properties": {
          "current_rate": {
            "type": "number",
            "description": "Current mortgage rate"
          },
          "current_balance": {
            "type": "number",
            "description": "Current mortgage balance"
          },
          "property_value": {
            "type": "number",
            "description": "Current property value"
          },
          "credit_score": {
            "type": "number",
            "description": "Current credit score"
          },
          "income": {
            "type": "number",
            "description": "Current income"
          }
        },
        "required": ["current_rate", "current_balance", "property_value", "income"]
      }
    },
    {
      "name": "connect_with_broker",
      "description": "Connect user with qualified mortgage brokers",
      "parameters": {
        "type": "object",
        "properties": {
          "user_info": {
            "type": "object",
            "properties": {
              "name": {"type": "string"},
              "email": {"type": "string"},
              "phone": {"type": "string"},
              "location": {"type": "string"}
            },
            "required": ["name", "email", "phone", "location"]
          },
          "loan_requirements": {
            "type": "object",
            "properties": {
              "property_price": {"type": "number"},
              "down_payment": {"type": "number"},
              "income": {"type": "number"},
              "credit_score": {"type": "number"}
            },
            "required": ["property_price", "down_payment", "income"]
          }
        },
        "required": ["user_info", "loan_requirements"]
      }
    },
    {
      "name": "generate_amortization_schedule",
      "description": "Generate detailed amortization schedule for a mortgage",
      "parameters": {
        "type": "object",
        "properties": {
          "principal": {
            "type": "number",
            "description": "Loan principal amount"
          },
          "interest_rate": {
            "type": "number",
            "description": "Annual interest rate"
          },
          "term_years": {
            "type": "number",
            "description": "Loan term in years"
          }
        },
        "required": ["principal", "interest_rate", "term_years"]
      }
    }
  ],
  "ui": {
    "canvas": {
      "enabled": true,
      "components": [
        "AffordabilityInputPanel",
        "RateComparisonTable", 
        "ScenarioComparisonChart",
        "AmortizationChart",
        "LeadGenModal"
      ]
    },
    "conversational": {
      "enabled": true,
      "intent_matching": true,
      "context_awareness": true
    }
  },
  "compliance": {
    "privacy": "GDPR, CCPA, PIPEDA compliant",
    "financial": "OSFI (Canada), CFPB (US) compliant",
    "data_retention": "30 days for calculations, 7 years for leads",
    "encryption": "AES-256 for data at rest, TLS 1.3 for data in transit"
  },
  "performance": {
    "max_response_time": "2s",
    "canvas_render_time": "250ms",
    "rate_limit": "100 requests/hour per user"
  }
}